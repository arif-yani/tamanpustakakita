<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="my_future_sent_order_tree" model="ir.ui.view">
        <field name="name">my.future.sent.order.tree</field>
        <field name="model">myfuture.sent.paket</field>
        <field name="priority">1000</field>
        <field name="arch" type="xml">
            <tree class="o_sale_order"
                  string="Keep Order" create="0" default_order="check_out_time">
                <header>
                </header>
                <field name="name"/>
                <field name="paket_id" invisible="1"/>
                <field name="weight"/>
                <field name="kecamatan_id"/>
                <field name="check_out_time"/>
                <field name="remark"/>
                <field name="state" widget="badge"
                    decoration-success="state == 'sent'"
                    decoration-info="state == 'check_in'"/>
            </tree>
        </field>
    </record>


    <record id="view_my_future_sent_order_filter" model="ir.ui.view">
        <field name="name">my.future.sent.order.filter</field>
        <field name="model">myfuture.sent.paket</field>
        <field name="priority" eval="15"/>
        <field name="arch" type="xml">
            <search string="Search Keep Order">
                <filter string="Batam" name="batam" domain="[('sent_to', '=', 'batam')]"/>
                <filter string="Luar Batam" name="luar_batam" domain="[('sent_to', '=', 'luar_batam')]"/>
                <separator/>
                <group expand="0" string="Group By">
                    <filter string="Status" name="state" domain="[]" context="{'group_by': 'state'}"/>
                    <filter string="Location" name="location" domain="[]" context="{'group_by': 'kecamatan_id'}"/>
                    <filter string="Hari" invisible="1" name="check_out_time_day" domain="[]" context="{'group_by': 'check_out_time:day'}"/>
                    <filter string="Batam/Luar Batam" name="sent_to" domain="[]" context="{'group_by': 'sent_to'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- <record id="action_update_confirm_sent_order" model="ir.actions.server">
        <field name="name">Update Keep Order</field>
        <field name="type">ir.actions.server</field>
        <field name="model_id" ref="model_my_future_keep_order"/>
        <field name="binding_model_id" ref="model_my_future_keep_order"/>
        <field name="state">code</field>
        <field name="code">action = model.action_update_confirm_sent_order()</field>
    </record>
     -->

      <record id="my_future_paket_tree" model="ir.ui.view">
        <field name="name">my.future.paket.tree</field>
        <field name="model">myfuture.paket</field>
        <field name="priority">1000</field>
        <field name="arch" type="xml">
            <tree class="o_sale_order"
                   string="Paket Line" editable="bottom" multi_edit="1">
                <header>
                </header>
               <field name="name" readonly="1"/>
               <field name="partner_id" />
               <field name="move_id" readonly="1"/>
                <field name="weight" readonly="1"/>
                <field name="is_titipan" widget="boolean_toggle"/>
                <field name="remark"/>
                <field name="parent_paket_id" optional="hide"/>
                <field name="ongkir_paket_state" readonly="ongkir_paket_state == 'lunas_prev_invoice'"
                decoration-success="ongkir_paket_state == 'lunas'"
                decoration-info="ongkir_paket_state == 'lunas_prev_invoice'"
                decoration-danger="ongkir_paket_state == 'belum_lunas'"/>
            </tree>
        </field>
    </record>

    <record id="action_confirm_sent_order" model="ir.actions.act_window">
        <field name="name">Sent Order</field>
        <field name="res_model">myfuture.sent.paket</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_id" ref="my_future_sent_order_tree"/>
        <field name="view_mode">tree</field>
        <field name="context">{'search_default_check_out_time_day': 1,'search_default_luar_batam': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            Create a Sent Order!
            </p>
        </field>
    </record>

    <record id="action_myfuture_paket" model="ir.actions.act_window">
        <field name="name">Paket</field>
        <field name="res_model">myfuture.paket</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_id" ref="my_future_paket_tree"/>
        <field name="view_mode">tree</field>
        <field name="context">{}</field>
        <field name="domain">[("move_id","!=",False),("is_hide_paket","=",False)]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            Create a Sent Order!
            </p>
        </field>
    </record>
</odoo>